{# macro to create activies select element #}
{% macro activity_list (id='', acts=[], prepoulate_value=False) -%}
    <label for="activity_{{ id }}" class="label">Activity</label>
    <div class="control has-icons-left">
        <div class="select">
            <select aria-label="Choose activity associated with {{ id }}" id="activity_{{ id }}"
                    name="activity_{{ id }}">
                <option value="none" {% if not prepoulate_value %}selected{% endif %}>Choose Activity</option>
                {% for act in acts %}
                    <option value="{{ act.name }}"
                            {% if prepoulate_value and prepoulate_value == act.name %}selected{% endif %}>
                        {{ act.name }}
                    </option>
                {% endfor %}
            </select>
        </div>
        <div class="icon is-small is-left has-text-primary">
            <i class="fas fa-cogs"></i>
        </div>
    </div>
{%- endmacro %}

{# macro to create disable/enable (don't share/share) switch element #}
{% macro enable_switch (id='', form=false) -%}
    {{ form.label(class_="label") }}
    <div class="control">
        <label class="switch">
            <input id="{{ id }}" name="{{ id }}" type="checkbox"
                   {% if form.data %}checked value="on"{% else %}value="off"{% endif %}>
            <span class="slider"></span>
        </label>
    </div>
    <span class="switch-value">No&nbsp;&nbsp;&nbsp;Yes</span>
{%- endmacro %}

{# macro to create disable/enable (don't share/share) switch element #}
{% macro star_form (id='', label="Rating", form=false) -%}
    {% if form %}
        <label for="{{ id }}" class="label">{{ label }}</label>
        {% if form.choices|length > 0 %}
            <div class="stars" id="{{ id }}">
                {% for subfield in form.choices|reverse %}
                    <input class="star star-{{ subfield[0] }}" id="{{ id }}-{{ subfield[0]|int- 1 }}" type="radio"
                           name="{{ id }}" value="{{ subfield[0] }}" {% if form.data == subfield[0] %} checked{% endif %}/>
                    <label class="star star-{{ subfield[0] }}" for="{{ id }}-{{ subfield[0]|int - 1 }}"
                           title="{{ subfield[1] }}"></label>
                {% endfor %}
            </div>
        {% endif %}
    {% endif %}
{%- endmacro %}

{#  macro to create multi select with styling to options #}
{#{%  macro multi_select_card (id='', form=false, option_class='') %}

def __call__(self, field, **kwargs):
    kwargs.setdefault('id', field.id)
    if self.multiple:
        kwargs['multiple'] = True
    html = ['<select %s>' % html_params(name=field.name, **kwargs)]
    for val, label, selected in field.iter_choices():
        html.append(self.render_option(val, label, selected))
    html.append('</select>')
    return HTMLString(''.join(html))
{% ~ endmacro %}#}